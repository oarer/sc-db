services:
    sc-db:
        build: ./parser
        container_name: sc-db
        env_file:
            - .env
        volumes:
            - merged_items:/repo
        networks:
            - sc-db
        restart: unless-stopped

    sync:
        build: ./sync
        container_name: sync
        env_file:
            - .env
        volumes:
            - merged_items:/repo
            - ./.git:/repo/.git
        ports:
            - "3001:3001"
        networks:
            - sc-db
        restart: unless-stopped

volumes:
    merged_items: {}

networks:
    sc-db:
        driver: bridge
